<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mediator Pattern - תבניות עיצוב בפייתון</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="side-nav-container">
        <nav class="side-nav">
            <!-- הסיידבר יוטען כאן באופן דינמי -->
        </nav>
    </div>

    <main class="main-content">
        <header class="rtl-container">
            <h1 class="flex-center">
                <i class="fas fa-comments icon"></i>
                Mediator Pattern
            </h1>
            <a href="index.html" class="flex-center">
                <i class="fas fa-arrow-right icon"></i>
                חזרה לדף הבית
            </a>
        </header>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-info-circle icon"></i>
                מטרת התבנית
            </h2>
            <p>תבנית Mediator מאפשרת להפחית את התלות ההדדית בין אובייקטים על ידי יצירת אובייקט מתווך שמנהל את התקשורת ביניהם.</p>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-question-circle icon"></i>
                מתי להשתמש?
            </h2>
            <ul>
                <li>כאשר יש מספר רב של אובייקטים שמתקשרים ביניהם</li>
                <li>כאשר רוצים להפחית את התלות ההדדית בין אובייקטים</li>
                <li>כאשר רוצים לפשט את התקשורת בין אובייקטים</li>
                <li>כאשר רוצים לשנות את התנהגות המערכת בקלות</li>
            </ul>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-code icon"></i>
                דוגמה בסיסית
            </h2>
            <pre><code>from abc import ABC, abstractmethod
from typing import List

# ממשק משותף למתווך
class Mediator(ABC):
    @abstractmethod
    def notify(self, sender: 'Colleague', event: str) -> None:
        pass

# ממשק משותף לעמיתים
class Colleague(ABC):
    def __init__(self, mediator: Mediator):
        self._mediator = mediator

    @abstractmethod
    def send(self, event: str) -> None:
        pass

    @abstractmethod
    def receive(self, event: str) -> None:
        pass

# מימוש קונקרטי של מתווך
class ConcreteMediator(Mediator):
    def __init__(self):
        self._colleagues: List[Colleague] = []

    def add_colleague(self, colleague: Colleague) -> None:
        self._colleagues.append(colleague)

    def notify(self, sender: Colleague, event: str) -> None:
        for colleague in self._colleagues:
            if colleague != sender:
                colleague.receive(event)

# מימוש קונקרטי של עמית
class ConcreteColleague(Colleague):
    def __init__(self, mediator: Mediator, name: str):
        super().__init__(mediator)
        self._name = name

    def send(self, event: str) -> None:
        print(f"{self._name} שולח: {event}")
        self._mediator.notify(self, event)

    def receive(self, event: str) -> None:
        print(f"{self._name} מקבל: {event}")

# שימוש
def client_code() -> None:
    mediator = ConcreteMediator()
    
    colleague1 = ConcreteColleague(mediator, "עמית 1")
    colleague2 = ConcreteColleague(mediator, "עמית 2")
    colleague3 = ConcreteColleague(mediator, "עמית 3")
    
    mediator.add_colleague(colleague1)
    mediator.add_colleague(colleague2)
    mediator.add_colleague(colleague3)
    
    colleague1.send("הודעה ראשונה")
    colleague2.send("הודעה שנייה")</code></pre>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-plus-circle icon"></i>
                יתרונות
            </h2>
            <ul>
                <li>מפחית את התלות ההדדית בין אובייקטים</li>
                <li>מפשט את התקשורת בין אובייקטים</li>
                <li>מאפשר שינוי התנהגות המערכת בקלות</li>
                <li>מאפשר הוספת אובייקטים חדשים בקלות</li>
            </ul>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-minus-circle icon"></i>
                חסרונות
            </h2>
            <ul>
                <li>עלול ליצור מתווך מורכב מדי</li>
                <li>עלול להפוך לצוואר בקבוק</li>
                <li>עלול להקשות על הבנת הקוד</li>
            </ul>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-balance-scale icon"></i>
                השוואה לתבניות אחרות
            </h2>
            <table>
                <tr>
                    <th>תבנית</th>
                    <th>הבדל</th>
                </tr>
                <tr>
                    <td>Observer</td>
                    <td>מתמקד בתקשורת חד-כיוונית, בעוד Mediator מתמקד בתקשורת דו-כיוונית</td>
                </tr>
                <tr>
                    <td>Facade</td>
                    <td>מתמקד בממשק פשוט, בעוד Mediator מתמקד בתקשורת</td>
                </tr>
            </table>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-pencil-alt icon"></i>
                תרגול
            </h2>
            <p>נסה ליישם את תבנית Mediator במקרים הבאים:</p>
            <ol>
                <li>מערכת צ'אט</li>
                <li>מערכת התראות</li>
                <li>מערכת ניהול הזמנות</li>
            </ol>
        </section>

        <div class="related-patterns card">
            <h2 class="flex-center">
                <i class="fas fa-link icon"></i>
                תבניות קשורות
            </h2>
            <ul>
                <li><a href="observer.html" class="flex-center"><i class="fas fa-eye icon"></i>Observer</a></li>
                <li><a href="facade.html" class="flex-center"><i class="fas fa-building icon"></i>Facade</a></li>
                <li><a href="command.html" class="flex-center"><i class="fas fa-terminal icon"></i>Command</a></li>
            </ul>
        </div>
    </main>

    <script src="../js/load-sidebar.js"></script>
</body>
</html> 