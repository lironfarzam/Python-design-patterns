<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interpreter Pattern - תבניות עיצוב בפייתון</title>
    <link rel="stylesheet" href="../css/styles.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Prism.js CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <!-- Prism.js Core -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <!-- Prism.js Python Language Support -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script></head>
<body>
    <div class="side-nav-container">
        <nav class="side-nav">
            <!-- הסיידבר יוטען כאן באופן דינמי -->
        </nav>
    </div>

    <main class="main-content">
        <header class="rtl-container">
            <h1 class="flex-center">
                <i class="fas fa-code icon"></i>
                Interpreter Pattern
            </h1>
            <a href="../index.html" class="flex-center">
                <i class="fas fa-arrow-right icon"></i>
                חזרה לדף הבית
            </a>
        </header>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-info-circle icon"></i>
                מהי תבנית Interpreter?
            </h2>
            <p>תבנית Interpreter היא תבנית עיצוב התנהגותית המאפשרת להגדיר ייצוג דקדוקי לשפה, ומספקת מתורגמן להשתמש בייצוג זה.</p>
            
            <h3>הסבר למתחילים:</h3>
            <p>דמיינו שיש לכם שפה פשוטה, כמו שפת מתמטיקה בסיסית. תבנית Interpreter מאפשרת לכם להגדיר את החוקים של השפה הזו ולפרש ביטויים בשפה זו. זה כמו מתורגמן שמתרגם משפה אחת לשנייה.</p>
            
            <h3>הסבר למתקדמים:</h3>
            <p>התבנית מיישמת את עקרון ה-Single Responsibility Principle על ידי הפרדת הפרשנות של הביטויים לאובייקטים נפרדים. כל אובייקט אחראי על פרשנות של חלק מסוים מהביטוי, ובכך מאפשר גמישות רבה בהרחבת השפה.</p>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-question-circle icon"></i>
                מתי להשתמש בתבנית?
            </h2>
            <h3>למתחילים:</h3>
            <ul>
                <li>כאשר יש צורך לפרש שפה פשוטה</li>
                <li>כאשר יש צורך להרחיב את השפה</li>
                <li>כאשר יש צורך לשנות את הפרשנות בזמן ריצה</li>
            </ul>

            <h3>למתקדמים:</h3>
            <ul>
                <li>כאשר יש צורך לפרש שפה פשוטה</li>
                <li>כאשר יש צורך להרחיב את השפה</li>
                <li>כאשר יש צורך לשנות את הפרשנות בזמן ריצה</li>
                <li>כאשר יש צורך לתמוך במספר רב של ביטויים</li>
                <li>כאשר יש צורך לאפשר הרחבה של השפה</li>
                <li>כאשר יש צורך לשמור על עקרון ה-Single Responsibility Principle</li>
            </ul>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-sitemap icon"></i>
                מבנה התבנית
            </h2>
            <h3>הסבר בסיסי:</h3>
            <p>התבנית מורכבת משני חלקים עיקריים:</p>
            <ul>
                <li><strong>Expression</strong> - הממשק שמגדיר את הפעולות המשותפות לכל הביטויים</li>
                <li><strong>TerminalExpression</strong> - הביטויים הבסיסיים בשפה</li>
                <li><strong>NonterminalExpression</strong> - הביטויים המורכבים בשפה</li>
            </ul>

            <h3>הסבר מתקדם:</h3>
            <p>התבנית מורכבת מהמרכיבים הבאים:</p>
            <ul>
                <li><strong>Expression</strong> - הממשק שמגדיר את הפעולות המשותפות לכל הביטויים</li>
                <li><strong>TerminalExpression</strong> - הביטויים הבסיסיים בשפה</li>
                <li><strong>NonterminalExpression</strong> - הביטויים המורכבים בשפה</li>
                <li><strong>Context</strong> - המידע הגלובלי עבור המתורגמן</li>
                <li><strong>Client</strong> - מי שיוצר את הביטויים ומשתמש בהם</li>
            </ul>

            <h3>היחסים בין המרכיבים:</h3>
            <ul>
                <li>Expression מגדיר את הממשק</li>
                <li>TerminalExpression מיישם את הממשק</li>
                <li>NonterminalExpression מיישם את הממשק</li>
                <li>Context מספק מידע גלובלי</li>
                <li>Client יוצר את הביטויים</li>
            </ul>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-code icon"></i>
                דוגמה בסיסית
            </h2>
            <h3>הסבר למתחילים:</h3>
            <p>בדוגמה הבאה, אנחנו יוצרים מחשבון פשוט שמפרש ביטויים מתמטיים. המחשבון תומך בפעולות חיבור, חיסור, כפל וחילוק.</p>

            <h3>הסבר למתקדמים:</h3>
            <p>הדוגמה מדגימה את השימוש ב-Interpreter Pattern להפרדה בין הפרשנות של הביטויים השונים. הממשק מגדיר את הפעולות הבסיסיות, והמימושים הספציפיים מספקים את הפונקציונליות.</p>

            <pre><code class="language-python">from abc import ABC, abstractmethod
from typing import Dict, Any

class Expression(ABC):
    @abstractmethod
    def interpret(self, context: Dict[str, Any]) -> Any:
        pass

class Number(Expression):
    def __init__(self, value: int):
        self._value = value

    def interpret(self, context: Dict[str, Any]) -> int:
        return self._value

class Add(Expression):
    def __init__(self, left: Expression, right: Expression):
        self._left = left
        self._right = right

    def interpret(self, context: Dict[str, Any]) -> int:
        return self._left.interpret(context) + self._right.interpret(context)

class Subtract(Expression):
    def __init__(self, left: Expression, right: Expression):
        self._left = left
        self._right = right

    def interpret(self, context: Dict[str, Any]) -> int:
        return self._left.interpret(context) - self._right.interpret(context)

class Multiply(Expression):
    def __init__(self, left: Expression, right: Expression):
        self._left = left
        self._right = right

    def interpret(self, context: Dict[str, Any]) -> int:
        return self._left.interpret(context) * self._right.interpret(context)

class Divide(Expression):
    def __init__(self, left: Expression, right: Expression):
        self._left = left
        self._right = right

    def interpret(self, context: Dict[str, Any]) -> int:
        right_value = self._right.interpret(context)
        if right_value == 0:
            raise ValueError("Division by zero")
        return self._left.interpret(context) // right_value

# שימוש
if __name__ == "__main__":
    # ביטוי: (5 + 3) * 2
    expression = Multiply(
        Add(Number(5), Number(3)),
        Number(2)
    )
    
    result = expression.interpret({})
    print(result)  # 16</code></pre>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-laptop-code icon"></i>
                דוגמה מעשית - מערכת שאילתות
            </h2>
            <h3>הסבר למתחילים:</h3>
            <p>בדוגמה זו, אנחנו יוצרים מערכת שאילתות פשוטה. המערכת מאפשרת לשאול שאלות על נתונים, כמו "האם המשכורת גדולה מ-5000?" או "האם הגיל קטן מ-30?".</p>

            <h3>הסבר למתקדמים:</h3>
            <p>הדוגמה מדגימה את השימוש ב-Interpreter Pattern להפרדה בין הפרשנות של השאילתות השונות. הממשק מגדיר את הפעולות הבסיסיות, והמימושים הספציפיים מספקים את הפונקציונליות.</p>

            <pre><code class="language-python">from abc import ABC, abstractmethod
from typing import Dict, Any

class QueryExpression(ABC):
    @abstractmethod
    def interpret(self, context: Dict[str, Any]) -> bool:
        pass

class Field(QueryExpression):
    def __init__(self, name: str):
        self._name = name

    def interpret(self, context: Dict[str, Any]) -> Any:
        return context.get(self._name)

class GreaterThan(QueryExpression):
    def __init__(self, left: QueryExpression, right: QueryExpression):
        self._left = left
        self._right = right

    def interpret(self, context: Dict[str, Any]) -> bool:
        return self._left.interpret(context) > self._right.interpret(context)

class LessThan(QueryExpression):
    def __init__(self, left: QueryExpression, right: QueryExpression):
        self._left = left
        self._right = right

    def interpret(self, context: Dict[str, Any]) -> bool:
        return self._left.interpret(context) < self._right.interpret(context)

class And(QueryExpression):
    def __init__(self, left: QueryExpression, right: QueryExpression):
        self._left = left
        self._right = right

    def interpret(self, context: Dict[str, Any]) -> bool:
        return self._left.interpret(context) and self._right.interpret(context)

class Or(QueryExpression):
    def __init__(self, left: QueryExpression, right: QueryExpression):
        self._left = left
        self._right = right

    def interpret(self, context: Dict[str, Any]) -> bool:
        return self._left.interpret(context) or self._right.interpret(context)

# שימוש
if __name__ == "__main__":
    # שאילתה: האם המשכורת גדולה מ-5000 והגיל קטן מ-30?
    query = And(
        GreaterThan(Field("salary"), Field("5000")),
        LessThan(Field("age"), Field("30"))
    )
    
    # נתונים
    context = {
        "salary": 6000,
        "age": 25,
        "5000": 5000,
        "30": 30
    }
    
    result = query.interpret(context)
    print(result)  # True</code></pre>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-plus-circle icon"></i>
                יתרונות
            </h2>
            <h3>למתחילים:</h3>
            <ul>
                <li>מאפשרת להגדיר שפה פשוטה</li>
                <li>מאפשרת להרחיב את השפה</li>
                <li>מאפשרת לשנות את הפרשנות בזמן ריצה</li>
            </ul>

            <h3>למתקדמים:</h3>
            <ul>
                <li>מאפשרת להגדיר שפה פשוטה</li>
                <li>מאפשרת להרחיב את השפה</li>
                <li>מאפשרת לשנות את הפרשנות בזמן ריצה</li>
                <li>מאפשרת תמיכה במספר רב של ביטויים</li>
                <li>מאפשרת הרחבה של השפה</li>
                <li>מאפשרת שמירה על עקרון ה-Single Responsibility Principle</li>
                <li>מאפשרת ניהול טוב יותר של הפרשנות</li>
            </ul>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-minus-circle icon"></i>
                חסרונות
            </h2>
            <h3>למתחילים:</h3>
            <ul>
                <li>עלולה להקשות על הבנת הקוד</li>
                <li>עלולה ליצור מספר רב של מחלקות</li>
                <li>עלולה להקשות על ניהול הקוד</li>
            </ul>

            <h3>למתקדמים:</h3>
            <ul>
                <li>עלולה להקשות על הבנת הקוד</li>
                <li>עלולה ליצור מספר רב של מחלקות</li>
                <li>עלולה להקשות על ניהול הקוד</li>
                <li>עלולה להקשות על בדיקות (Testing)</li>
                <li>עלולה להקשות על ניהול גרסאות</li>
                <li>עלולה להקשות על ניהול תלויות</li>
            </ul>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-exclamation-triangle icon"></i>
                מלכודות נפוצות
            </h2>
            <h3>למתחילים:</h3>
            <ul>
                <li>אי-הקפדה על יצירת ממשק פשוט</li>
                <li>אי-הקפדה על שימוש נכון במתודות</li>
                <li>אי-הקפדה על ניהול תלויות</li>
            </ul>

            <h3>למתקדמים:</h3>
            <ul>
                <li>אי-הקפדה על יצירת ממשק פשוט</li>
                <li>אי-הקפדה על שימוש נכון במתודות</li>
                <li>אי-הקפדה על ניהול תלויות</li>
                <li>אי-הקפדה על ניהול גרסאות</li>
                <li>אי-הקפדה על בדיקות (Testing)</li>
                <li>אי-הקפדה על ניהול זיכרון</li>
            </ul>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-balance-scale icon"></i>
                השוואה לתבניות אחרות
            </h2>
            <h3>למתחילים:</h3>
            <table>
                <tr>
                    <th>תבנית</th>
                    <th>הבדל</th>
                </tr>
                <tr>
                    <td>Composite</td>
                    <td>מתמקדת במבנה, בעוד Interpreter מתמקדת בפרשנות</td>
                </tr>
                <tr>
                    <td>Visitor</td>
                    <td>מתמקדת בפעולות, בעוד Interpreter מתמקדת בפרשנות</td>
                </tr>
            </table>

            <h3>למתקדמים:</h3>
            <table>
                <tr>
                    <th>תבנית</th>
                    <th>הבדל</th>
                </tr>
                <tr>
                    <td>Composite</td>
                    <td>מתמקדת במבנה, בעוד Interpreter מתמקדת בפרשנות</td>
                </tr>
                <tr>
                    <td>Visitor</td>
                    <td>מתמקדת בפעולות, בעוד Interpreter מתמקדת בפרשנות</td>
                </tr>
                <tr>
                    <td>Strategy</td>
                    <td>מתמקדת באלגוריתמים, בעוד Interpreter מתמקדת בפרשנות</td>
                </tr>
                <tr>
                    <td>State</td>
                    <td>מתמקדת במצבים, בעוד Interpreter מתמקדת בפרשנות</td>
                </tr>
            </table>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-pencil-alt icon"></i>
                תרגול
            </h2>
            <h3>למתחילים:</h3>
            <p>נסה ליישם את תבנית Interpreter במקרים הבאים:</p>
            <ol>
                <li>מחשבון ביטויים</li>
                <li>מערכת שאילתות</li>
                <li>מערכת תבניות</li>
            </ol>

            <h3>למתקדמים:</h3>
            <p>נסה ליישם את תבנית Interpreter במקרים הבאים:</p>
            <ol>
                <li>מחשבון ביטויים</li>
                <li>מערכת שאילתות</li>
                <li>מערכת תבניות</li>
                <li>מערכת הרשאות</li>
            </ol>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-lightbulb icon"></i>
                טיפים ליישום
            </h2>
            <h3>למתחילים:</h3>
            <ul>
                <li>השתמש בממשק פשוט ונוח לשימוש</li>
                <li>ודא שהביטויים מספקים את כל הפונקציונליות הנדרשת</li>
                <li>הוסף בדיקות תקינות לממשק הפשוט</li>
            </ul>

            <h3>למתקדמים:</h3>
            <ul>
                <li>השתמש בממשק פשוט ונוח לשימוש</li>
                <li>ודא שהביטויים מספקים את כל הפונקציונליות הנדרשת</li>
                <li>הוסף בדיקות תקינות לממשק הפשוט</li>
                <li>שקול שימוש ב-Dependency Injection</li>
                <li>השתמש ב-Interface Segregation Principle</li>
                <li>הוסף תיעוד מפורט לממשקים והמימושים</li>
            </ul>
        </section>

        <section class="card">
            <h2 class="flex-center">
                <i class="fas fa-book icon"></i>
                מקרי שימוש נפוצים
            </h2>
            <h3>למתחילים:</h3>
            <ul>
                <li>מחשבונים</li>
                <li>מערכות שאילתות</li>
                <li>מערכות תבניות</li>
            </ul>

            <h3>למתקדמים:</h3>
            <ul>
                <li>מחשבונים</li>
                <li>מערכות שאילתות</li>
                <li>מערכות תבניות</li>
                <li>מערכות הרשאות</li>
                <li>מערכות פרשנות</li>
            </ul>
        </section>

        <div class="related-patterns card">
            <h2 class="flex-center">
                <i class="fas fa-link icon"></i>
                תבניות קשורות
            </h2>
            <ul>
                <li><a href="composite.html" class="flex-center"><i class="fas fa-sitemap icon"></i>Composite</a></li>
                <li><a href="visitor.html" class="flex-center"><i class="fas fa-user-check icon"></i>Visitor</a></li>
                <li><a href="strategy.html" class="flex-center"><i class="fas fa-cogs icon"></i>Strategy</a></li>
                <li><a href="state.html" class="flex-center"><i class="fas fa-toggle-on icon"></i>State</a></li>
            </ul>
        </div>
    </main>

    <script src="../js/load-sidebar.js"></script>
</body>
</html> 